<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Raaganjali | Gallery</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="gallery.css" />
</head>
<body class="black-bg">

<!-- NAVIGATION -->
<nav id="navbar">
  <a href="index.html" class="logo-link">
    <img src="images/Raaganjali Logo.png" alt="Raaganjali Logo" class="navbar-logo" />
    <span class="navbar-text">Raaganjali</span>
  </a>
  <button id="navbar-toggle" aria-label="Open menu">&#9776;</button>
  <div class="nav-links" id="nav-links">
    <a href="index.html">Home</a>
    <a href="team.html">About Us</a>
    <a href="services.html">Services</a>
    <a href="gallery.html" class="active">Gallery</a>
    <a href="events.html">Events</a>
    <a href="contact.html">Contact</a>
  </div>
</nav>

<!-- HEADER -->
<section class="events-hero">
    <h1>Gallery</h1>
    <p>Filter what type of pictures you want to see.</p>
</section>

<!-- FILTER -->
<div class="gallery-filter-fullscreen">
  <button class="filter-btn active" data-target="team-slider-section">Team Group Photos</button>
  <button class="filter-btn" data-target="perf-slider-section">Performances</button>
</div>

<!-- FULLSCREEN SLIDER: TEAM GROUP PHOTOS -->
<section id="team-slider-section" class="gallery-fullscreen-slider-section active">
  <div class="gallery-fullscreen-slider" id="team-fullscreen-slider" tabindex="0">
    <div class="gallery-fs-slide active" style="background-image:url('images/Grp1.jpg');">
      <img src="images/Grp1.jpg" alt="Team Group 1" class="gallery-fs-img" />
    </div>
    <div class="gallery-fs-slide" style="background-image:url('images/Grp2.jpg');">
      <img src="images/Grp2.jpg" alt="Team Group 2" class="gallery-fs-img" />
    </div>
    <div class="gallery-fs-slide" style="background-image:url('images/Grp3.jpg');">
      <img src="images/Grp3.jpg" alt="Team Group 3" class="gallery-fs-img" />
    </div>
    <div class="gallery-fs-slide" style="background-image:url('images/Grp4.jpg');">
      <img src="images/Grp4.jpg" alt="Team Group 4" class="gallery-fs-img" />
    </div>
    <div class="gallery-fs-slide" style="background-image:url('images/Grp5.jpg');">
      <img src="images/Grp5.jpg" alt="Team Group 5" class="gallery-fs-img" />
    </div>
    <!-- Add more slides as needed -->
    <button class="gallery-arrow prev" aria-label="Previous slide">&#10094;</button>
    <button class="gallery-arrow next" aria-label="Next slide">&#10095;</button>
    <div class="gallery-dots" id="team-fs-dots"></div>
  </div>
</section>

<!-- FULLSCREEN SLIDER: PERFORMANCES -->
<section id="perf-slider-section" class="gallery-fullscreen-slider-section">
  <div class="gallery-fullscreen-slider" id="perf-fullscreen-slider" tabindex="0">
    <div class="gallery-fs-slide active" style="background-image:url('images/Lakshmi[1].jpg');">
      <img src="images/Lakshmi[1].jpg" alt="Performance 1" class="gallery-fs-img" />
    </div>
    <div class="gallery-fs-slide" style="background-image:url('images/soumya2.jpg');">
      <img src="images/soumya2.jpg" alt="Performance 2" class="gallery-fs-img" />
    </div>
    <div class="gallery-fs-slide" style="background-image:url('images/Malai[2].jpg');">
      <img src="images/Malai[2].jpg" alt="Performance 3" class="gallery-fs-img" />
    </div>
    <div class="gallery-fs-slide" style="background-image:url('images/Satvika[3].jpg');">
      <img src="images/Satvika[3].jpg" alt="Performance 4" class="gallery-fs-img" />
    </div>
    <div class="gallery-fs-slide" style="background-image:url('images/Ravi[1].jpg');">
      <img src="images/Ravi[1].jpg" alt="Performance 5" class="gallery-fs-img" />
    </div>
    <!-- Add more slides as needed -->
    <button class="gallery-arrow prev" aria-label="Previous slide">&#10094;</button>
    <button class="gallery-arrow next" aria-label="Next slide">&#10095;</button>
    <div class="gallery-dots" id="perf-fs-dots"></div>
  </div>
</section>

<!-- LIGHTBOX MODAL -->
<div id="lightbox-modal" class="lightbox-modal" style="display:none;">
  <div class="lightbox-backdrop"></div>
  <img id="lightbox-img" src="" alt="Large Preview" />
</div>

<!-- FOOTER (as is) -->
<footer class="site-footer">
  <!-- ...same as before... -->
</footer>

<script>
document.addEventListener("DOMContentLoaded", function() {
  // FILTER BUTTONS
  const filterBtns = document.querySelectorAll('.gallery-filter-fullscreen .filter-btn');
  const sliderSections = {
    "team-slider-section": document.getElementById('team-slider-section'),
    "perf-slider-section": document.getElementById('perf-slider-section')
  };
  filterBtns.forEach(btn => {
    btn.addEventListener('click', () => {
      filterBtns.forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      Object.values(sliderSections).forEach(sec => sec.classList.remove('active'));
      sliderSections[btn.getAttribute('data-target')].classList.add('active');
      setTimeout(() => sliderSections[btn.getAttribute('data-target')].scrollIntoView({ behavior: 'smooth', block: 'start' }), 60);
    });
  });

  // SLIDER LOGIC (arrows, dots, autoplay, keyboard)
  function initFullscreenSlider(sliderId, dotsId) {
    const slider = document.getElementById(sliderId);
    if (!slider) return;
    const slides = Array.from(slider.querySelectorAll('.gallery-fs-slide'));
    const prevBtn = slider.querySelector('.gallery-arrow.prev');
    const nextBtn = slider.querySelector('.gallery-arrow.next');
    const dotsContainer = document.getElementById(dotsId);
    let current = 0, interval = null, paused = false;

    function showSlide(idx) {
      slides.forEach((slide, i) => {
        slide.classList.toggle('active', i === idx);
      });
      Array.from(dotsContainer.children).forEach((dot, i) => {
        dot.classList.toggle('active', i === idx);
        dot.setAttribute('aria-current', i === idx ? 'true' : 'false');
      });
      current = idx;
    }
    function prevSlide() { showSlide((current - 1 + slides.length) % slides.length); }
    function nextSlide() { showSlide((current + 1) % slides.length); }
    function goToSlide(idx) { showSlide(idx); }
    function startAutoplay() {
      if (interval) clearInterval(interval);
      interval = setInterval(() => { if (!paused) nextSlide(); }, 4000);
    }
    function pauseAutoplay() { paused = true; }
    function resumeAutoplay() { paused = false; }
    function createDots() {
      dotsContainer.innerHTML = '';
      slides.forEach((s, i) => {
        const btn = document.createElement('button');
        btn.className = 'gallery-dot' + (i === 0 ? ' active' : '');
        btn.setAttribute('aria-label', `Go to slide ${i+1}`);
        btn.onclick = () => { goToSlide(i); pauseAutoplay(); };
        dotsContainer.appendChild(btn);
      });
    }
    slider.addEventListener('mouseenter', pauseAutoplay);
    slider.addEventListener('mouseleave', resumeAutoplay);
    slider.addEventListener('focusin', pauseAutoplay);
    slider.addEventListener('focusout', resumeAutoplay);
    slider.addEventListener('keydown', function(e) {
      if (e.key === "ArrowLeft") { prevSlide(); pauseAutoplay(); }
      if (e.key === "ArrowRight") { nextSlide(); pauseAutoplay(); }
    });
    prevBtn.addEventListener('click', () => { prevSlide(); pauseAutoplay(); });
    nextBtn.addEventListener('click', () => { nextSlide(); pauseAutoplay(); });
    createDots();
    showSlide(0);
    startAutoplay();

    // Lightbox logic
    slider.querySelectorAll('.gallery-fs-img').forEach(img => {
      img.addEventListener('click', function() {
        document.getElementById('lightbox-img').src = this.src;
        document.getElementById('lightbox-modal').style.display = 'flex';
      });
    });
  }

  initFullscreenSlider('team-fullscreen-slider', 'team-fs-dots');
  initFullscreenSlider('perf-fullscreen-slider', 'perf-fs-dots');

  // Lightbox close
  document.getElementById('lightbox-modal').addEventListener('click', function(e) {
    if (e.target === this || e.target.classList.contains('lightbox-backdrop')) {
      this.style.display = 'none';
      document.getElementById('lightbox-img').src = '';
    }
  });
});
</script>
</body>
</html>
